<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#1e1e2f">
    <title>Advanced Survival and Civilization Rebuilder</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.1/css/all.min.css">
</head>
<body>
    <div id="game-container">
        <div id="top-section">
            <div id="day-night-cycle">
                
                <div> <div id="time-emoji">ðŸŒ…</div> <div>Day: <span id="day-count">1</span></div> | <div>Time: <span id="time-display">00:00</span></div></div>
                <div id="population">
                    <div class="population-info">
                        <i class="fas fa-users"></i>
                        <p>Pop: <span id="population-count">1</span></p>
                    </div>
                    <div class="population-info">
                        <i class="fas fa-user-tie"></i>
                        <p>Workers: <span id="available-workers">0</span>/<span id="total-workers">0</span></p>
                    </div>
                    <button id="train-worker-btn">Train Worker</button>
                </div>
            </div>
            <div id="resources">
                <div class="resource-item">
                    <i class="fas fa-utensils"></i>
                    <span id="food">100</span>
                    <progress id="food-bar" value="100" max="100"></progress>
                </div>
            <div class="resource-item">
                <i class="fas fa-water"></i>
                <span id="water">100</span>
                <progress id="water-bar" value="100" max="100"></progress>
            </div>
            <div class="resource-item">
                <i class="fas fa-tree"></i>
                <span id="wood">0</span>
            </div>
            <div class="resource-item">
                <i class="fas fa-mountain"></i>
                <span id="stone">0</span>
            </div>
            <div class="resource-item">
                <i class="fas fa-book"></i>
                <span id="knowledge">2</span>
            </div>
        </div>
        </div>
        <div id="actions" class="game-section game-section-active">
             <!-- Gathering buttons will be dynamically inserted here -->
        </div>
        <div id="book" class="game-section">
            <h2>Study Book</h2>
            <div id="book-page">
                <div id="book-question">
                    <p id="book-puzzle-text"></p>
                    <input type="text" id="book-answer" placeholder="Answer">
                    <button id="book-submit">Submit</button>
                </div>
                <div id="book-item-info" style="display:none;"></div>
            </div>
            <div id="book-nav-container">
                <button id="book-prev" class="book-nav">&larr;</button>
                <button id="book-next" class="book-nav">&rarr;</button>
            </div>
        </div>
        <div id="crafting" class="game-section">
            <h2>Crafting</h2>
            <div id="craftable-items"></div>
            <h3>Crafting Queue</h3>
            <div id="crafting-queue"></div>
        </div>
        <div id="automation" class="game-section">
            <h2>Automation</h2>
            <div id="automation-controls"></div>
        </div>
        <div id="log" class="game-section">
            <h2>Event Log</h2>
            <ul id="event-log"></ul>
        </div>
    </div>

    <nav id="bottom-nav">
        <button class="nav-btn active" data-target="actions"><i class="fas fa-hand-paper"></i><span>Gather</span></button>
        <button class="nav-btn" data-target="crafting"><i class="fas fa-hammer"></i><span>Craft</span></button>
        <button class="nav-btn" data-target="automation"><i class="fas fa-robot"></i><span>Auto</span></button>
        <button class="nav-btn" data-target="book"><i class="fas fa-book-open"></i><span>Book</span></button>
        <button class="nav-btn" data-target="log"><i class="fas fa-list"></i><span>Log</span></button>
        <button class="nav-btn" id="settings-btn"><i class="fas fa-ellipsis-v"></i><span>Info</span></button>
    </nav>

    <div id="puzzle-popup" class="popup">
        <h2 id="puzzle-title"></h2>
        <p id="puzzle-description"></p>
        <input type="text" id="puzzle-answer" placeholder="Enter your answer">
        <button id="submit-puzzle">Submit Answer</button>
        <button id="close-puzzle">Close</button>
    </div>

    <div id="settings-menu" class="popup">
        <h2>Settings</h2>
        <p id="game-title">Advanced Survival and Civilization Rebuilder</p>
        <button id="close-settings">Close</button>
    </div>

    <script type="module" src="game.js"></script>
</body>
</html>
