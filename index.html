<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#1e1e2f">
    <title>Advanced Survival and Civilization Rebuilder</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.1/css/all.min.css">
</head>
<body>
    <div id="game-container">
        <h1>Advanced Survival and Civilization Rebuilder</h1>
        <div id="top-section">
            <div id="day-night-cycle">
                <span>Day: <span id="day-count">1</span> | Time: <span id="time-emoji">ðŸŒ…</span> <span id="time-display">00:00</span></span>
                <div id="population">
                    <div class="population-info">
                        <i class="fas fa-users"></i>
                        <p>Population: <span id="population-count">1</span></p>
                    </div>
                    <div class="population-info">
                        <i class="fas fa-user-tie"></i>
                        <p>Available Workers: <span id="available-workers">1</span></p>
                    </div>
                </div>
            </div>
            <div id="resources">
                <div class="resource-item">
                    <i class="fas fa-utensils"></i>
                    <span id="food">100</span>
                    <progress id="food-bar" value="100" max="100"></progress>
                </div>
            <div class="resource-item">
                <i class="fas fa-water"></i>
                <span id="water">100</span>
                <progress id="water-bar" value="100" max="100"></progress>
            </div>
            <div class="resource-item">
                <i class="fas fa-tree"></i>
                <span id="wood">0</span>
            </div>
            <div class="resource-item">
                <i class="fas fa-mountain"></i>
                <span id="stone">0</span>
            </div>
            <div class="resource-item">
                <i class="fas fa-book"></i>
                <span id="knowledge">2</span>
            </div>
        </div>
        </div>
        <div class="divider"></div>
        <div id="actions" class="game-section game-section-active">
             <!-- Gathering buttons will be dynamically inserted here -->
            <button id="study">Study the Book</button>
        </div>
        <div id="crafting" class="game-section">
            <h2>Crafting</h2>
            <div id="craftable-items"></div>
            <h3>Crafting Queue</h3>
            <div id="crafting-queue"></div>
        </div>
        <div id="automation" class="game-section">
            <h2>Automation</h2>
            <div id="automation-controls"></div>
        </div>
        <div id="log" class="game-section">
            <h2>Event Log</h2>
            <ul id="event-log"></ul>
        </div>
    </div>

    <nav id="bottom-nav">
        <button class="nav-btn active" data-target="actions"><i class="fas fa-hand-paper"></i><span>Gather</span></button>
        <button class="nav-btn" data-target="crafting"><i class="fas fa-hammer"></i><span>Craft</span></button>
        <button class="nav-btn" data-target="automation"><i class="fas fa-robot"></i><span>Auto</span></button>
        <button class="nav-btn" data-target="log"><i class="fas fa-list"></i><span>Log</span></button>
    </nav>

    <div id="puzzle-popup" class="popup">
        <h2 id="puzzle-title"></h2>
        <p id="puzzle-description"></p>
        <input type="text" id="puzzle-answer" placeholder="Enter your answer">
        <button id="submit-puzzle">Submit Answer</button>
        <button id="close-puzzle">Close</button>
    </div>

    <script type="module" src="game.js"></script>
</body>
</html>
